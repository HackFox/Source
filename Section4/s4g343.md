## Append Procedures, Copy Procedures

These commands let you move code between the stored procedures of a database and text files. APPEND PROCEDURES adds the contents of a file to the current database's stored procedures, while COPY PROCEDURES lets you save the stored procedures in a file.

### Usage

```foxpro
APPEND PROCEDURES FROM FileName
     [ AS nCodePage ]
     [ OVERWRITE ]
COPY PROCEDURES TO FileName
     [ AS nCodePage ]
     [ ADDITIVE ]
```

As with other APPEND/COPY pairs, the default for APPEND is additive, while the default for COPY is destructive. Hence, APPEND PROCEDURES has an optional OVERWRITE keyword that lets you replace what's already there, while COPY PROCEDURES has an optional ADDITIVE clause that lets you keep what's already there and add to it.

The AS codepage in each command specifies a codepage for the text file. On the way in, FoxPro converts from that codepage to the database's codepage. On the way out, the reverse happens.

COPY PROCEDURES assumes an extension of TXT (rather than PRG, as we'd expect). APPEND PROCEDURES, on the other hand, is even less sensible&mdash;if you don't give it an extension, it assumes you don't want one. So APPEND PROCEDURES FROM MyProc doesn't look for MyProc.PRG or even MyProc.TXT, but just plain old MyProc. The upshot of all this is that you should always include the extension with these commands.

<table border=0 cellspacing=0 cellpadding=0 width=100%>
<tr>
  <td width=17% valign=top>
<img width=95 height=78 src="fixbug1.gif"></p>
  </td>
  <td width=83%>
  <p>In VFP 3, when the stored procedures already contain RI code generated by the RI builder, there's no final return. When you APPEND PROCEDURES, the first line of the text file ends up on the same line as the final RI-generated line. Leaving things that way is guaranteed to cause trouble down the road, so you'll want to make sure the extra return gets in there somehow, whether by manually inserting it or by making sure the first line of the appended file contains just a return. In VFP 5 and later, RI code does have a final return, so this is a non-issue.</p>
  </td>
 </tr>
</table>

<table border=0 cellspacing=0 cellpadding=0 width=100%>
<tr>
  <td width=17% valign=top>
<img width=95 height=77 src="bug.gif"></p>
  </td>
  <td width=83%>
  <p>APPEND PROCEDURES only works when the full VFP environment is available, since it needs to be able to compile the procedures. Trying to use it in a runtime environment results in a &quot;feature is not available&quot; error. The reason for this is that VFP needs to be able to compile the procedures. While that was a reasonable limitation in versions prior to VFP 6 Service Pack 3, VFP has been able to compile files in a runtime environment since that release. We suspect this is one of those things the Fox team just forgot to change.</p>
  </td>
 </tr>
</table>

In VFP 7, if the database has database events turned on, the BeforeAppendProc and AfterAppendProc events fire for APPEND PROCEDURES, and the BeforeCopyProc and AfterCopyProc events fire for COPY PROCEDURES.

### Example

```foxpro
OPEN DATA MyTestData
APPEND PROCEDURES FROM GetId.PRG
COPY PROCEDURES TO TestProc.PRG
```
### See Also

[AfterAppendProc](s4g836.md), [AfterCopyProc](s4g836.md), [BeforeAppendProc](s4g836.md), [BeforeCopyProc](s4g836.md), [Display Procedures](s4g431.md), [Modify Procedure](s4g605.md)